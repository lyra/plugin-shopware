(this.webpackJsonp=this.webpackJsonp||[]).push([["lyra-payment-payzen"],{"1isQ":function(e){e.exports=JSON.parse('{"lyrapayment-payzen":{"payzenTitle":"PayZen","payzenGeneral":{"mainMenuItemGeneral":"PayZen","descriptionTextModule":"Configuración de PayZen"},"payzenPaymentInformation":"Información del pago","payzenTransactionId":"ID de transacción","payzenTransactionUuid": "UUID de transacción","payzenTransactionType":"Tipo de transacción","payzenMeansOfPayment":"Medio de pago","payzenCardNumber":"Número de tarjeta","payzenCardExpirationDate":"Fecha de expiración","payzenLanguages":{"fr":"Francés","de":"Alemán","en":"Inglés","es":"Español","zh":"Chino","it":"Italiano","ja":"Japonés","pt":"Portugués","nl":"Holandés","sv":"Sueco","ru":"Ruso","pl":"Polaco","tr":"Turco"},"payzenDoc":"Documentación","payzenDescription":"Este plugin le permite configurar el sistema de pago PayZen en su sitio web Shopware.","payzenDocumentationDescription":"Haga clic para ver la documentación de la configuración del módulo :","payzenSignAlgoDesc":"Algoritmo usado para calcular la firma del formulario de pago. El algoritmo seleccionado debe ser el mismo que el configurado en el Back Office PayZen. El algoritmo HMAC-SHA-256 no se debe activar si aún no está disponible el Back Office PayZen, la función estará disponible pronto."}}')},DGQL:function(e,n){const{Application:a}=Shopware,t=Shopware.Classes.ApiService;class i extends t{constructor(e,n,a="lyrapayment_payzen"){super(e,n,a)}getFeatures(){const e=this.getBasicHeaders();return this.httpClient.get(`_action/${this.getApiBasePath()}/get-features`,{headers:e}).then(e=>t.handleResponse(e))}getCardTypes(){const e=this.getBasicHeaders();return this.httpClient.get(`_action/${this.getApiBasePath()}/get-card-types`,{headers:e}).then(e=>t.handleResponse(e))}getLanguages(){const e=this.getBasicHeaders();return this.httpClient.get(`_action/${this.getApiBasePath()}/get-languages`,{headers:e}).then(e=>t.handleResponse(e))}getDocFiles(){const e=this.getBasicHeaders();return this.httpClient.get(`_action/${this.getApiBasePath()}/get-doc-files`,{headers:e}).then(e=>t.handleResponse(e))}getPaymentStatuses(){const e=this.getBasicHeaders();return this.httpClient.get(`_action/${this.getApiBasePath()}/get-payment-statuses`,{headers:e}).then(e=>t.handleResponse(e))}}a.addServiceProvider("LyraPaymentPayzenSettingsService",e=>{const n=a.getContainer("init");return new i(n.httpClient,e.loginService)})},Fphr:function(e){e.exports=JSON.parse('{"lyrapayment-payzen":{"payzenTitle":"PayZen","payzenGeneral":{"mainMenuItemGeneral":"PayZen","descriptionTextModule":"Paramètres PayZen"},"payzenPaymentInformation":"Informations de paiement","payzenTransactionId":"ID de transaction","payzenTransactionUuid": "UUID de transaction","payzenTransactionType":"Type de transaction","payzenMeansOfPayment":"Moyen de paiement","payzenCardNumber":"Numéro de carte","payzenCardExpirationDate":"Date d\'expiration","payzenLanguages":{"fr":"Français","de":"Allemand","en":"Anglais","es":"Espagnol","zh":"Chinois","it":"Italien","ja":"Japonnais","pt":"Portugais","nl":"Néerlandais","sv":"Suédois","ru":"Russe","pl":"Polonais","tr":"Turc"},"payzenDoc":"Documentation","payzenDescription":"Ce plugin vous permet de configurer le système de paiement PayZen sur votre site Web Shopware.","payzenDocumentationDescription":"Cliquer pour accéder à la documentation de configuration du module :","payzenSignAlgoDesc":"Algorithme utilisé pour calculer la signature du formulaire de paiement. L\'algorithme sélectionné doit être le même que celui configuré sur le Back Office PayZen. Le HMAC-SHA-256 ne doit pas être activé si celui-ci n\'est pas encore disponible depuis le Back Office PayZen, la fonctionnalité sera disponible prochainement."}}')},G7Y6:function(e){e.exports=JSON.parse('{"lyrapayment-payzen":{"payzenTitle":"PayZen","payzenGeneral":{"mainMenuItemGeneral":"PayZen","descriptionTextModule":"PayZen einstellungen"},"payzenPaymentInformation":"Zahlungsinformationen","payzenTransactionId":"Transaktionsnummer","payzenTransactionUuid": "Transaktions-UUID","payzenTransactionType":"Art der Transaktion","payzenMeansOfPayment":"Zahlungsmittel","payzenCardNumber":"Kreditkartennummer","payzenCardExpirationDate":"Verfallsdatum","payzenLanguages":{"fr":"Französisch","de":"Deutsch","en":"Englisch","es":"Spanisch","zh":"Chinesisch","it":"Italienisch","ja":"Japanisch","pt":"Portugiesisch","nl":"Holländisch","sv":"Schwedisch","ru":"Russisch","pl":"Polnisch","tr":"Türkisch"},"payzenDoc":"Dokumentation","payzenDescription":"This plugin enables you to setup the PayZen payment system on your Shopware website.","payzenDocumentationDescription":"Klicken Sie, um die Modul-Konfigurationsdokumentation zu finden :","payzenSignAlgoDesc":"Algorithmus zur Berechnung der Zahlungsformsignatur. Der ausgewählte Algorithmus muss derselbe sein, wie er im PayZen Back Office. Der HMAC-SHA-256-Algorithmus sollte nicht aktiviert werden, wenn er noch nicht im PayZen Back Office verfügbar ist. Die Funktion wird in Kürze verfügbar sein."}}')},GtaO:function(e,n,a){var t=a("e4Lg");"string"==typeof t&&(t=[[e.i,t,""]]),t.locals&&(e.exports=t.locals);(0,a("SZ7m").default)("9e5c8ec6",t,!0,{})},IEp7:function(e,n,a){var t=a("zTM4");"string"==typeof t&&(t=[[e.i,t,""]]),t.locals&&(e.exports=t.locals);(0,a("SZ7m").default)("02fb00a8",t,!0,{})},ITR9:function(e,n,a){"use strict";a.r(n);var t=a("Za8d"),i=a.n(t);a("GtaO");const{Component:s,Mixin:o}=Shopware;s.register("lyrapayment-payzen-settings",{template:i.a,mixins:[o.getByName("notification"),o.getByName("sw-inline-snippet")],inject:["LyraPaymentPayzenSettingsService"],data:()=>({isSupportModalOpen:!1,paymentStatuses:[],languages:[],cardTypes:[],docFiles:[],isdocModalOpen:!1,qualif:!1,shatwo:!0}),created(){this.createdComponent()},methods:{createdComponent(){var e=this;this.LyraPaymentPayzenSettingsService.getFeatures().then(n=>{e.qualif=n.qualif,e.shatwo=n.shatwo}),this.LyraPaymentPayzenSettingsService.getDocFiles().then(n=>{n.data.forEach(n=>{e.docFiles.push({name:n.name,title:n.title,link:n.link})})}),this.LyraPaymentPayzenSettingsService.getCardTypes().then(n=>{for(let a in n.data)n.data.hasOwnProperty(a)&&e.cardTypes.push({label:n.data[a],value:a})}),this.LyraPaymentPayzenSettingsService.getLanguages().then(n=>{for(let a in n.data)n.data.hasOwnProperty(a)&&e.languages.push({label:this.$tc("lyrapayment-payzen.payzenLanguages."+a),value:a})}),this.LyraPaymentPayzenSettingsService.getPaymentStatuses().then(n=>{n.data.forEach(n=>{e.paymentStatuses.push({label:n.label,value:n.value})})})},getBind(e){return"LyraPaymentPayzen.config.payzenSignAlgo"!==e.name||this.shatwo||(e.config.helpText=this.$tc("lyrapayment-payzen.payzenSignAlgoDesc")),e},isDisabled(e){return e.name.startsWith("LyraPaymentPayzen.config.payzenCtxMode")&&this.qualif},isShown(e){return!e.name.startsWith("LyraPaymentPayzen.config.payzenKeyTest")||!this.qualif},onSave(){this.$refs.systemConfig.saveAll().then(()=>{this.createNotificationSuccess({title:this.$tc("sw-plugin-config.titleSaveSuccess"),message:this.$tc("sw-plugin-config.messageSaveSuccess")})}).catch(e=>{this.createNotificationError({title:this.$tc("sw-plugin-config.titleSaveError"),message:e})})}}});var r=a("QMng"),l=a.n(r);a("IEp7");const{Component:c,Mixin:p}=Shopware;c.override("sw-order-detail-base",{template:l.a,methods:{isPayzenPayment:e=>!!e.customFields&&e.customFields.payzen_transaction_id,hasPayzenPayment(e){let n=this,a=!1;return!!e.transactions&&(e.transactions.map((function(e){n.isPayzenPayment(e)&&(a=!0)})),a)}}});var y=a("K/Qq"),m=a.n(y);a("cFjB");const{Component:d}=Shopware;d.override("sw-settings-index",{template:m.a});var u=a("XuAE"),g=a.n(u);const{Component:h}=Shopware;h.override("sw-plugin-list",{template:g.a});var f=a("G7Y6"),z=a("cFxD"),w=a("1isQ"),P=a("Fphr");const{Module:b}=Shopware;b.register("lyrapayment-payzen",{type:"plugin",name:"Payzen",title:"lyrapayment-payzen.payzenTitle",description:"lyrapayment-payzen.payzenGeneral.descriptionTextModule",version:"2.0.0",icon:"default-action-settings",snippets:{"de-DE":f,"en-GB":z,"es-ES":w,"fr-FR":P},routes:{index:{component:"lyrapayment-payzen-settings",path:"index",meta:{parentPath:"sw.settings.index"}}}});a("DGQL")},"K/Qq":function(e,n){e.exports='\x3c!--\n/**\n * Copyright © Lyra Network.\n * This file is part of PayZen plugin for Shopware. See COPYING.md for license details.\n *\n * @author    Lyra Network <https://www.lyra.com>\n * @copyright Lyra Network\n * @license   https://opensource.org/licenses/mit-license.html The MIT License (MIT)\n */\n--\x3e\n{% block sw_settings_content_card_slot_plugins %}\n    {% parent %}\n\n    <sw-settings-item :label="$tc(\'lyrapayment-payzen.payzenTitle\')"\n                      :to="{ name: \'lyrapayment.payzen.index\' }"\n                      :backgroundEnabled="false">\n        <template #icon>\n            <img class="sw-settings-index__payzen-icon" :src="\'lyrapaymentpayzen/images/payzen_icon.png\' | asset">\n        </template>\n    </sw-settings-item>\n{% endblock %}'},QMng:function(e,n){e.exports='\x3c!--\n/**\n * Copyright © Lyra Network.\n * This file is part of PayZen plugin for Shopware. See COPYING.md for license details.\n *\n * @author    Lyra Network <https://www.lyra.com>\n * @copyright Lyra Network\n * @license   https://opensource.org/licenses/mit-license.html The MIT License (MIT)\n */\n--\x3e\n{% block sw_order_detail_base_status_card %}\n    {% parent %}\n\n    <template v-if="!isLoading" :isLoading="isLoading">\n        <template v-if="hasPayzenPayment(order)">\n            <sw-card class="sw-order-payzen-card" :title="$tc(\'lyrapayment-payzen.payzenPaymentInformation\')">\n                <template v-for="transaction in order.transactions">\n                    <template v-if="isPayzenPayment(transaction)">\n                        <sw-container columns="1fr 1fr">\n                                <sw-description-list>\n                                    <dt>{{ $tc(\'lyrapayment-payzen.payzenTransactionId\') }}</dt>\n                                    <dd class="sw-order-base__label-sales-channel">{{ transaction.customFields.payzen_transaction_id }}</dd>\n\n                                    <dt>{{ $tc(\'lyrapayment-payzen.payzenTransactionUuid\') }}</dt>\n                                    <dd class="sw-order-base__label-sales-channel">{{ transaction.customFields.payzen_transaction_uuid }}</dd>\n\n                                    <dt>{{ $tc(\'lyrapayment-payzen.payzenTransactionType\') }}</dt>\n                                    <dd class="sw-order-base__label-sales-channel">{{ transaction.customFields.payzen_transaction_type }}</dd>\n                                </sw-description-list>\n                                <sw-description-list>\n                                    <dt>{{ $tc(\'lyrapayment-payzen.payzenMeansOfPayment\') }}</dt>\n                                    <dd class="sw-order-base__label-sales-channel">{{ transaction.customFields.payzen_means_of_payment }}</dd>\n\n                                    <dt>{{ $tc(\'lyrapayment-payzen.payzenCardNumber\') }}</dt>\n                                    <dd class="sw-order-base__label-sales-channel">{{ transaction.customFields.payzen_card_number }}</dd>\n\n                                    <dt>{{ $tc(\'lyrapayment-payzen.payzenCardExpirationDate\') }}</dt>\n                                    <dd class="sw-order-base__label-sales-channel">{{ transaction.customFields.payzen_card_expiration_date }}</dd>\n                                </sw-description-list>\n                        </sw-container>\n                    </template>\n                </template>\n            </sw-card>\n        </template>\n    </template>\n{% endblock %}\n'},XuAE:function(e,n){e.exports="\x3c!--\n/**\n * Copyright © Lyra Network.\n * This file is part of PayZen plugin for Shopware. See COPYING.md for license details.\n *\n * @author    Lyra Network <https://www.lyra.com>\n * @copyright Lyra Network\n * @license   https://opensource.org/licenses/mit-license.html The MIT License (MIT)\n */\n--\x3e\n{% block sw_plugin_list_grid_columns_actions_settings %}\n    <template v-if=\"item.composerName === 'lyrapayment/payzen'\">\n        <sw-context-menu-item :routerLink=\"{ name: 'lyrapayment.payzen.index' }\">\n            {{ $tc('sw-plugin.list.config') }}\n        </sw-context-menu-item>\n    </template>\n\n    <template v-else>\n        {% parent %}\n    </template>\n{% endblock %}\n"},Za8d:function(e,n){e.exports='\x3c!--\n/**\n * Copyright © Lyra Network.\n * This file is part of PayZen plugin for Shopware. See COPYING.md for license details.\n *\n * @author    Lyra Network <https://www.lyra.com>\n * @copyright Lyra Network\n * @license   https://opensource.org/licenses/mit-license.html The MIT License (MIT)\n */\n--\x3e\n{% block lyrapayment_payzen %}\n    <sw-page class="lyrapayment-payzen">\n        {% block lyrapayment_payzen_header %}\n            <template #smart-bar-header>\n                <h2>\n                    {{ $tc(\'sw-settings.index.title\') }}\n                    <sw-icon name="small-arrow-medium-right" small></sw-icon>\n                    {{ $tc(\'lyrapayment-payzen.payzenTitle\') }}\n                </h2>\n            </template>\n        {% endblock %}\n\n        {% block lyrapayment_payzen_config_actions %}\n            <template #smart-bar-actions>\n                {% block lyrapayment_payzen_config_actions_doc %}\n                    <sw-button\n                            @click="isdocModalOpen = true"\n                            :disabled="false"\n                            variant="ghost"\n                            :square="false"\n                            :block="false"\n                            :isLoading="false">\n                        {{ $tc(\'lyrapayment-payzen.payzenDoc\') }}\n                    </sw-button>\n                {% endblock %}\n\n                {% block lyrapayment_payzen_config_actions_abort %}\n                    <sw-button :routerLink="{ name: \'sw.plugin.index\' }">\n                        {{ $tc(\'sw-plugin-config.buttonCancel\') }}\n                    </sw-button>\n                {% endblock %}\n\n                {% block lyrapayment_payzen_config_actions_save %}\n                    <sw-button variant="primary" class="lyrapayment-payzen-config__save-action" @click.prevent="onSave">\n                        {{ $tc(\'sw-plugin-config.buttonSave\') }}\n                    </sw-button>\n                {% endblock %}\n            </template>\n        {% endblock %}\n\n        {% block lyrapayment_payzen_config_content %}\n            <template #content>\n                <sw-modal\n                v-if="isdocModalOpen"\n                @modal-close="isdocModalOpen = false"\n                :title="$tc(\'lyrapayment-payzen.payzenDoc\')"\n                class="payzen-doc sw-modal--small">\n                    <sw-container columns="1fr">\n                        <div class="payzen-doc__col">\n                            <div class="payzen-doc__icon">\n                                <img class="payzen-doc__payzen-icon" :src="\'lyrapaymentpayzen/images/payzen_logo.png\' | asset">\n                            </div>\n                            <p class="payzen-doc__desc">\n                                {{ $tc(\'lyrapayment-payzen.payzenDescription\') }}\n                            </p>\n\n                            <p class="payzen-doc__docdesc">\n                                {{ $tc(\'lyrapayment-payzen.payzenDocumentationDescription\') }}\n                            </p>\n\n                            <sw-dashboard-external-link\n                                v-for="docFile in docFiles"\n                                :name="docFile.name"\n                                :title="docFile.title"\n                                :link="docFile.link">\n                            </sw-dashboard-external-link>\n                        </div>\n                    </sw-container>\n                </sw-modal>\n\n                <sw-card-view>\n                    <sw-system-config\n                            ref="systemConfig"\n                            salesChannelSwitchable\n                            inherit\n                            domain="LyraPaymentPayzen.config">\n                        <template #card-element="{ element, config }">\n                            <sw-form-field-renderer\n                            v-if="element.name.startsWith(\'LyraPaymentPayzen.config.payzenPaymentStatusOnSuccess\')"\n                            :config="{\n                                        componentName: \'sw-single-select\',\n                                        label: getInlineSnippet(element.config.label),\n                                        helpText: getInlineSnippet(element.config.helpText),\n                                        options: paymentStatuses,\n                                    }"\n                            v-model="config[element.name]"/>\n\n                            <sw-form-field-renderer\n                            v-else-if="element.name.startsWith(\'LyraPaymentPayzen.config.payzenLanguage\')"\n                            :config="{\n                                        componentName: \'sw-single-select\',\n                                        label: getInlineSnippet(element.config.label),\n                                        helpText: getInlineSnippet(element.config.helpText),\n                                        options: languages,\n                                    }"\n                            v-model="config[element.name]"/>\n\n                            <sw-form-field-renderer\n                            v-else-if="element.name.startsWith(\'LyraPaymentPayzen.config.payzenAvailableLanguages\')"\n                            :config="{\n                                        componentName: \'sw-multi-select\',\n                                        label: getInlineSnippet(element.config.label),\n                                        helpText: getInlineSnippet(element.config.helpText),\n                                        options: languages,\n                                    }"\n                            v-model="config[element.name]"/>\n\n                            <sw-form-field-renderer\n                            v-else-if="element.name.startsWith(\'LyraPaymentPayzen.config.payzenPaymentCards\')"\n                            :config="{\n                                        componentName: \'sw-multi-select\',\n                                        label: getInlineSnippet(element.config.label),\n                                        helpText: getInlineSnippet(element.config.helpText),\n                                        options: cardTypes,\n                                    }"\n                            v-model="config[element.name]"/>\n\n                            <sw-form-field-renderer\n                                v-else\n                                v-bind="getBind(element)"\n                                v-model="config[element.name]"\n                                :disabled="isDisabled(element)"\n                                v-show="isShown(element)">\n\n                            </sw-form-field-renderer>\n\n                        </template>\n                    </sw-system-config>\n                </sw-card-view>\n            </template>\n        {% endblock %}\n    </sw-page>\n{% endblock %}'},cFjB:function(e,n,a){var t=a("gtuO");"string"==typeof t&&(t=[[e.i,t,""]]),t.locals&&(e.exports=t.locals);(0,a("SZ7m").default)("66b96730",t,!0,{})},cFxD:function(e){e.exports=JSON.parse('{"lyrapayment-payzen":{"payzenTitle":"Payzen","payzenGeneral":{"mainMenuItemGeneral":"Payzen","descriptionTextModule":"Payzen settings"},"payzenPaymentInformation":"Payment information","payzenTransactionId":"Transaction ID","payzenTransactionUuid": "Transaction UUID","payzenTransactionType":"Transaction type","payzenMeansOfPayment":"Means of payment","payzenCardNumber":"Card number","payzenCardExpirationDate":"Expiration date","payzenLanguages":{"fr":"French","de":"German","en":"English","es":"Spanish","zh":"Chinese","it":"Italian","ja":"Japanese","pt":"Portuguese","nl":"Dutch","sv":"Swedish","ru":"Russian","pl":"Polisch","tr":"Turkisch"},"payzenDoc":"Documentation","payzenDescription":"This plugin enables you to setup the Payzen payment system on your Shopware website.","payzenDocumentationDescription":"Click to view the module configuration documentation:","payzenSignAlgoDesc":"Algorithm used to compute the payment form signature. Selected algorithm must be the same as one configured in the PayZen Back Office.\' . The HMAC-SHA-256 algorithm should not be activated if it is not yet available in the PayZen Back Office, the feature will be available soon."}}')},e4Lg:function(e,n,a){},gtuO:function(e,n,a){},zTM4:function(e,n,a){}},[["ITR9","runtime","vendors-node"]]]);